<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ads Click Pay</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1470&q=80') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
      text-align: center;
      color: white;
    }
    .container {
      background: rgba(0,0,0,0.7);
      margin: 20px;
      border-radius: 15px;
      padding: 20px;
    }
    nav {
      display: flex;
      justify-content: space-around;
      background: rgba(0,0,0,0.8);
      padding: 10px;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
    nav button {
      flex: 1;
      padding: 10px;
      margin: 5px;
      border: none;
      border-radius: 10px;
      background: #00c853;
      color: white;
      font-size: 16px;
    }
    .hidden { display: none; }
    .task { margin: 10px 0; padding: 10px; background: #222; border-radius: 10px; }
    .btn {
      background: #ff9800;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      margin-top: 5px;
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>Ads Click Pay</h1>
    <p>Balance: <span id="balance">$0.00000</span></p>
    <p>Your referral link: <span id="refLink"></span></p>
  </div>

  <!-- Earn Tab -->
  <div id="earn" class="container">
    <h2>Earn Money</h2>

    <h3>ðŸ”¸ Watch Ads</h3>
    <button class="btn" onclick="watchAd('https://www.revenuecpmgate.com/yc4zy360?key=668ce693eb60fa7cc11dd002b6a3adab')">Ad 1</button>
    <button class="btn" onclick="watchAd('https://www.revenuecpmgate.com/ds7h6p686?key=1f2f476c9ca95b3a721183aac2890d9a')">Ad 2</button>
    <button class="btn" onclick="watchAd('https://www.revenuecpmgate.com/r9fnmmre1?key=26bdfcbc52f583dbc0080aedcc0b6131')">Ad 3</button>

    <h3>ðŸ”¸ Captcha</h3>
    <p id="captchaQuestion"></p>
    <input type="text" id="captchaInput" placeholder="Enter captcha">
    <button class="btn" onclick="checkCaptcha()">Submit</button>
    <p id="captchaMsg"></p>
  </div>

  <!-- Tasks Tab -->
  <div id="tasks" class="container hidden">
    <h2>Telegram Tasks</h2>
    <div class="task" id="task1">
      <p>Join Channel 1</p>
      <a href="https://t.me/binananceearn1" target="_blank"><button class="btn">Join</button></a>
      <button class="btn" onclick="claimTask(1)">Claim</button>
    </div>
    <div class="task" id="task2">
      <p>Join Channel 2</p>
      <a href="https://t.me/emoneyweb" target="_blank"><button class="btn">Join</button></a>
      <button class="btn" onclick="claimTask(2)">Claim</button>
    </div>
    <div class="task" id="task3">
      <p>Join Channel 3</p>
      <a href="https://t.me/panda_technic" target="_blank"><button class="btn">Join</button></a>
      <button class="btn" onclick="claimTask(3)">Claim</button>
    </div>
  </div>

  <!-- Withdraw Tab -->
  <div id="withdraw" class="container hidden">
    <h2>Withdraw</h2>
    <input type="number" id="withdrawAmount" placeholder="Enter amount">
    <select id="withdrawMethod">
      <option value="binance">Binance</option>
      <option value="pol">POL</option>
    </select>
    <input type="text" id="wallet" placeholder="Enter Wallet ID/Address">
    <button class="btn" onclick="withdraw()">Withdraw</button>
    <h3>History</h3>
    <ul id="history"></ul>
  </div>

  <nav>
    <button onclick="showTab('earn')">Earn</button>
    <button onclick="showTab('tasks')">Tasks</button>
    <button onclick="showTab('withdraw')">Withdraw</button>
  </nav>

<script>
  // === Load Data ===
  let balance = parseFloat(localStorage.getItem("balance")) || 0;
  let tasksDone = JSON.parse(localStorage.getItem("tasksDone")) || {};
  let history = JSON.parse(localStorage.getItem("history")) || [];

  // Referral
  let refId = localStorage.getItem("refId") || Math.floor(Math.random()*1000000);
  localStorage.setItem("refId", refId);
  document.getElementById("refLink").innerText = window.location.origin + "?ref=" + refId;

  // Update balance UI
  function updateBalance() {
    document.getElementById("balance").innerText = "$" + balance.toFixed(5);
    localStorage.setItem("balance", balance);
  }

  // Tabs
  function showTab(tab) {
    document.getElementById("earn").classList.add("hidden");
    document.getElementById("tasks").classList.add("hidden");
    document.getElementById("withdraw").classList.add("hidden");
    document.getElementById(tab).classList.remove("hidden");
  }

  // Ads
  function watchAd(url) {
    window.open(url, "_blank");
    setTimeout(() => {
      balance += 0.0001;
      updateBalance();
      alert("You earned $0.0001!");
    }, 5000);
  }

  // Captcha
  function generateCaptcha() {
    let a = Math.floor(Math.random()*10);
    let b = Math.floor(Math.random()*10);
    document.getElementById("captchaQuestion").innerText = `What is ${a} + ${b}?`;
    return a+b;
  }
  let captchaAnswer = generateCaptcha();

  function checkCaptcha() {
    let input = document.getElementById("captchaInput").value;
    if(parseInt(input) === captchaAnswer){
      balance += 0.00015;
      updateBalance();
      document.getElementById("captchaMsg").innerText = "Correct! +$0.00015";
    } else {
      document.getElementById("captchaMsg").innerText = "Wrong!";
    }
    captchaAnswer = generateCaptcha();
    document.getElementById("captchaInput").value = "";
  }

  // Tasks
  function claimTask(id) {
    if(tasksDone[id]) {
      alert("Already completed!");
      return;
    }
    balance += 0.01;
    updateBalance();
    tasksDone[id] = true;
    localStorage.setItem("tasksDone", JSON.stringify(tasksDone));
    document.getElementById("task"+id).style.display = "none";
    alert("Task completed! +$0.01");
  }

  // Withdraw
  function withdraw() {
    let amount = parseFloat(document.getElementById("withdrawAmount").value);
    let method = document.getElementById("withdrawMethod").value;
    let wallet = document.getElementById("wallet").value;

    if(amount < 0.03) {
      alert("Minimum withdraw is $0.03");
      return;
    }
    if(amount > balance) {
      alert("Not enough balance!");
      return;
    }

    balance -= amount;
    updateBalance();

    let record = `Withdraw $${amount.toFixed(2)} via ${method} â†’ ${wallet}`;
    history.push(record);
    localStorage.setItem("history", JSON.stringify(history));

    let li = document.createElement("li");
    li.innerText = record;
    document.getElementById("history").appendChild(li);

    // Telegram Bot Notification
    let botToken = "YOUR_BOT_TOKEN"; // replace
    let chatId = "@payment1267";
    let text = encodeURIComponent(record);
    fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${text}`);

    alert("Withdraw success!");
  }

  // Load history + tasks on startup
  window.onload = function() {
    updateBalance();
    history.forEach(rec => {
      let li = document.createElement("li");
      li.innerText = rec;
      document.getElementById("history").appendChild(li);
    });
    Object.keys(tasksDone).forEach(id => {
      if(tasksDone[id]) document.getElementById("task"+id).style.display = "none";
    });
  }
</script>
</body>
</html>
